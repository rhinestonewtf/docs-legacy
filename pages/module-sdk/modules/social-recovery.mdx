import { Tabs } from "nextra/components";

# Social Recovery

The Social Recovery allows users to recover their account using a social recovery mechanism

You can find the source code for the module in the [Core Modules repo](https://github.com/rhinestonewtf/core-modules/tree/main/src/SocialRecovery) and the deployment address in the [address book](../../overview/address-book.mdx).

## `getSocialRecoveryValidator`

The `getSocialRecoveryValidator` function is used to install the social recovery validator in the account. This function returns a module object.

<Tabs items={["Safe", "Kernel"]}>

<Tabs.Tab>

```typescript
import { getSocialRecoveryValidator } from "@rhinestone/module-sdk";

const guardians = ["0x...", "0x..."]; // guardians address list
const threshold = 2;

const socialRecoveryValidator = getSocialRecoveryValidator({
  guardians,
  threshold,
});
```

</Tabs.Tab>

<Tabs.Tab>

```typescript
import { getSocialRecoveryValidator } from "@rhinestone/module-sdk";

const guardians = ["0x...", "0x..."]; // guardians address list
const threshold = 2;
const hook = "0x..";

const socialRecoveryValidator = getSocialRecoveryValidator({
  guardians,
  threshold,
  hook,
});
```

</Tabs.Tab>

</Tabs>

## `getSocialRecoveryMockSignature`

The `getSocialRecoveryMockSignature` function is used to get a mock signature for the validator. This is used to calculate the gas of an ERC-4337 `UserOperation`. This function returns a hex-encoded signature.

```typescript
import { getSocialRecoveryMockSignature } from "@rhinestone/module-sdk";

const mockSignature = getSocialRecoveryMockSignature();
```

## `getSetSocialRecoveryThresholdAction`

The `getSetSocialRecoveryThresholdAction` function is used to set the threshold for the validator. This function returns an execution object

```typescript
import { getSetSocialRecoveryThresholdAction } from "@rhinestone/module-sdk";

const threshold = 2;

const setSocialRecoveryThresholdAction = getSetSocialRecoveryThresholdAction({
  threshold,
});
```

## `getAddSocialRecoveryGuardianAction`

The `getAddSocialRecoveryGuardianAction` function is used to add a guardian to the validator. This function returns an execution object

```typescript
import { getAddSocialRecoveryGuardianAction } from "@rhinestone/module-sdk";

const guardian = "0x...";

const addSocialRecoveryGuardianAction = getAddSocialRecoveryGuardianAction({
  guardian,
});
```

## `getRemoveSocialRecoveryGuardianAction`

The `getRemoveSocialRecoveryGuardianAction` function is used to remove a guardian from the validator. This function returns an execution object

```typescript
import { getRemoveSocialRecoveryGuardianAction } from "@rhinestone/module-sdk";

const guardian = "0x...";

const removeSocialRecoveryGuardianAction = getAddSocialRecoveryGuardianAction({
  guardian,
});
```

## `getSocialRecoveryGuardians`

The `getSocialRecoveryGuardians` function is used to return social recovery guardians. This function returns an array of guardians.

```typescript
import { getSocialRecoveryGuardians } from "@rhinestone/module-sdk";

const params = {
  account,
  client,
};

const socialRecoveryGuardians = await getSocialRecoveryGuardians(params);
```

## `SOCIAL_RECOVERY_ADDRESS`

The `SOCIAL_RECOVERY_ADDRESS` is a constant that represents the module address.
